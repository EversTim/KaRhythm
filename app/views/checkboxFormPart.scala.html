@import nl.sogyo.kbd.forms._
@(patternForm: Form[PatternForm], soundNames: Seq[Option[String]])(implicit messages: Messages)
@implicitField = @{ helper.FieldConstructor(checkboxFieldConstructor.f) }
@helper.repeatWithIndex(patternForm("boxes")) { (s, trackNumber) =>
<div class="singleTrack" id='trackdiv-@trackNumber'>
    @helper.input(patternForm("tracknames")("[" + trackNumber + "]")) { (id, name, value, args) =>
        Track name: <input id='name_@trackNumber' name='tracknames[@trackNumber]' value='@value' data-id='@id' data-name='@name'/>
    }(plainFieldConstructor.f, messages)
    @helper.input(patternForm("soundnames")("[" + trackNumber + "]")) { (id, name, value, args) =>
        Track sound: @trackSoundsFormPart(trackNumber, id, name, value, soundNames)
    }(plainFieldConstructor.f, messages)
    @helper.repeatWithIndex(s) { (c, beat) =>
    @helper.input(c){ (id, name, isChecked, args) =>
    <label class='pccheckboxlabel'>
        <input type='checkbox' class='pccheckbox' id='@id'
               data-beat='@beat' data-tracknumber='@trackNumber'
               name='boxes[@trackNumber][@beat]' value='true'
               @if(isChecked.get== "true") { checked } else {} /></label>
    <input type='hidden' class='pccheckboxhidden' id='hidden_@id'
           data-beat='@beat' data-tracknumber='@trackNumber'
           name='boxes[@trackNumber][@beat]' value='false' />
    }
    }
</div>
}
